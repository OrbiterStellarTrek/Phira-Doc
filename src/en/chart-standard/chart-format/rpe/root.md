# RPE Chart Root Structure

**Warning: The following is written for RPE 1.4.1 as of 2024-07-25. Older versions and version history are TBD.**

## Root structure

### BPMList

`BPMList` is a `JsonArray` of `JsonObject`s. Each object has:

| Field | Type | Description | Version |
|:----------:|:-----------------:|:-------:|:----:|
| bpm | float | BPM value | - |
| startTime | [beat](./beat.md) | BPM start time | - |

### META

`META` is a `JsonObject` with:

| Field | Type | Description | Version |
|:------------:|:------:|:----------------:|:----:|
| RPEVersion | int | RPE version, 100–160 | - |
| background | string | Background image path relative to chart root | - |
| charter | string | Charter name | - |
| composer | string | Composer | - |
| id | string | Chart ID (used by RPE to identify chart) | - |
| illustration | string | Illustrator | 141 |
| level | string | Chart level | - |
| name | string | Chart name | - |
| offset | int | Music offset in milliseconds | - |
| song | string | Music file path relative to chart root | - |

- When `offset` is negative, music starts `-offset` ms before chart start; when positive, `offset` ms after.
- When auto-generated by RPE, `id` is a long; in practice it can be any string.

::: danger
**RPE 1.5.0–1.6.0 (excluding 1.6.0, including Alpha): META `RPEVersion` stayed `150`.**
:::

::: danger
**RPE 1.6.1: META `RPEVersion` stayed `160`.**
:::

### chartTime

_Not needed for simulators._

- `chartTime` is a `double` in seconds (editing duration), added in version 141.
- If RPE loses focus, timing continues; when focus returns, time is rolled back to when focus was lost.

### judgeLineGroup

_Not needed for simulators._

- `judgeLineGroup` is a `string[]`; each string is a judge line group. Actual behavior TBD.

### judgeLineList

- `judgeLineList` is a `JsonArray` of [JudgeLine](judgeLine.md).

### multiLineString

_Not needed for simulators._

- `multiLineString` is a `string` for RPE multi-line editing: space-separated numbers for judge lines. `1:20` selects lines 1 through 20.

### multiScale

_Not needed for simulators._

- `multiScale` is a `float` for scaling the multi-line edit view in RPE.

### xybind

_Simulators may ignore._

- `xybind` is a `bool`: whether X/Y are bound. If `true`, every `XEvent` has a matching `YEvent` of the same length.
